<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Смотритель маяка</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="assets/favicon.png">
  </head>
  <body>
    <div class="layout">
    <div id="side-menu"></div>
    <div class="container">
        <div class="first-heading">Смотритель маяка</div>
        <div id="infobox-container"></div> <!-- инфобокс персонажа -->
        <!-- введение -->
        <p><b>Смотритель маяка</b> — сошедший с ума старик. По его словам, он всю жизнь провёл на <a href="locations.html#island">Острове</a>.
        <!-- содержание -->
        <!-- ЗАГОЛОВКИ -->
        <!-- внешность -->
        <h2>Внешность</h2>
        <img src="assets/keeperIdleFront.png" height="200px" class="left-image"><img src="assets/keeperIdleBack.png" height="200px" class="left-image">Всё тело Смотрителя усыпано разноцветными квадратами, напоминающими экранные помехи. Он одет в чёрную рабочую форму, уже изношенную за годы службы.
        <!-- личность -->
        <h2>Личность</h2>
        Смотритель маяка ведёт себя крайне экстравагантно. То, что он говорит, кажется бессмысленным всем, кто его встречает.
        <blockquote>Ладно, сынок, хочу тебя предупредить — у меня в руке двадцать хлеба, так что свой следующий ход продумывай крайне аккуратно.<br><small><i><a href="yuhab.html">Юхаву</a>, <a href="timeline.html#first-day">второй день</a>.</i></small></blockquote>
        <!-- взаимоотношения
        <h2>Отношения</h2>
        <h3 id="princess">Принцесса Аквария</h3>
        <i>См. также: <a href="princess.html#keeper">Принцесса Аквария#Смотритель маяка</a></i><br> -->
        <!-- история
        <h2>История</h2> -->
        <!-- галерея -->
        <h2>Галерея</h2>
    </p>
    </div>
    </div>
    <div id="site-footer"></div>
    <script src="load-components.js"></script> <!-- подгружает боковое меню и футер -->
    <!-- ЗАПОЛНЕНИЕ ИНФОБОКСА -->
    <script>
    const infoboxData = {
      title: "Смотритель маяка",
      image: "assets/keeperIdle.png",
      fields: {
        "Также известны как": "Дедушка",
        "Возраст (лет)": "72",
        "Раса": "Человек",
        "Автор": "Сава",
        "Первое появление": "<a href='timeline.html#second-day'>Второй день</a>",
        "Присутствовали на":"Дни 2, 5, 8",
      }
    };
    fetch('character-infobox.html')
    .then(r => r.text())
    .then(html => {
      const container = document.getElementById("infobox-container");
      container.innerHTML = html;
      container.querySelector(".infobox-title").innerText = infoboxData.title;
      container.querySelector(".infobox-image img").src = infoboxData.image;
      container.querySelector(".infobox-image img").alt = infoboxData.title;
      const rows = container.querySelectorAll(".infobox-table tr");
      rows.forEach(row => {
        const th = row.querySelector("th");
        const td = row.querySelector("td");
        if(th && td) {
          const key = th.innerText;
          if(infoboxData.fields[key]) {
            td.innerHTML = infoboxData.fields[key];
          } else {
            row.remove();
          }
        }
      });
      })
    </script>
  </body>
</html>